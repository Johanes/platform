ec2_access_key          ${AWS_ACCESS_KEY};
ec2_private_key         ${AWS_PRIVATE_KEY};
ec2_ssh_key             stratos-1.0.0-keypair;
instance_mgt_epr        https://ec2.amazonaws.com/;
disable_api_termination true;
enable_monitoring       false;

loadbalancer {
    security_groups      stratos-appserver-lb;
    instance_type        m1.large;
    instances           1;
    elastic_IP           ${ELASTIC_IP};
    availability_zone    us-east-1c;
}

services {
    defaults {
        availability_zone       us-east-1c;
        security_groups         default-2011-02-23;
        instance_type           m1.large;
        min_app_instances       1;
        max_app_instances       5;
        queue_length_per_node   400;
        rounds_to_average       10;
        instances_per_scale_up  1;
        message_expiry_time     60000;
    }

    appserver {
        hosts                   appserver.cloud-test.wso2.com,as.cloud-test.wso2.com;
        domains   {
            wso2.as1.domain {
                tenant_range    1-100;
            }
            wso2.as2.domain {
                tenant_range    101-200;
            }
            wso2.as3.domain {
                tenant_range    *;
            }
        }
        availability_zone       us-east-1c;
    }

    esb {
        hosts                   esb.cloud-test.wso2.com;
        domains   {
            wso2.esb1.domain {
                tenant_range    1-100;
            }
            wso2.esb2.domain {
                tenant_range    101-200;
            }
            wso2.esb3.domain {
                tenant_range    *;
            }
        }
        
        availability_zone       us-east-1c;
    }

    governance {
        hosts                   governance.cloud-test.wso2.com;
        domains   {
            wso2.governance1.domain {
                tenant_range    1-100;
            }
            wso2.governance2.domain {
                tenant_range    101-200;
            }
            wso2.governance3.domain {
                tenant_range    *;
            }
        }
    }

    identity {
        hosts                   identity.cloud-test.wso2.com;
        domains   {
            wso2.identity1.domain {
                tenant_range    1-100;
            }
            wso2.identity2.domain {
                tenant_range    101-200;
            }
            wso2.identity3.domain {
                tenant_range    *;
            }
        }
    }
}
