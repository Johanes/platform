<%
include("/site/themes/jagg.jag");
var site = require("/site/conf/site.json");

var published = require("/core/apis/published.js");
var result = published.getAllPublishedAPIs();
var apis = result.apis;

var params = {
    "name":"pages/base",
    "css":{},
    "js":{},
    "code":{},
    "updates" : {
        "css" : {},
        "js" : {}
    },
    "params":
        {
            "title":"API Store Listing",
            "body":[
                {
                    "name":"layouts/extended",
                    "params": {
                        "top" : null,
                        "left" : null,
                        "middle" : {
                            "name" : "apis/listing",
                            "params" : {
                                "apis" : apis
                            }
                        },
                        "right" : null
                    }
                }
            ]
        }
};

log(jagg == null);
jagg.templates = {};
jagg.global = params;
jagg.render(params, jagg);

%>