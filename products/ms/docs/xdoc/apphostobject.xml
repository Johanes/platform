<!--
~ Copyright 2005-2008 WSO2, Inc. (http://wso2.com)
~
~ Licensed under the Apache License, Version 2.0 (the "License");
~ you may not use this file except in compliance with the License.
~ You may obtain a copy of the License at
~
~ http://www.apache.org/licenses/LICENSE-2.0
~
~ Unless required by applicable law or agreed to in writing, software
~ distributed under the License is distributed on an "AS IS" BASIS,
~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
~ See the License for the specific language governing permissions and
~ limitations under the License.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
        "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <link href="css/mashup-docs.css" rel="stylesheet" type="text/css" media="all"/>
        <link type="text/css" rel="stylesheet" href="css/SyntaxHighlighter.css" media="all"/>
        <script language="javascript" src="js/shCore.js"></script>
        <script language="javascript" src="js/shBrushJScript.js"></script>
        <script language="javascript" src="js/shBrushJava.js"></script>
        <script language="javascript" src="js/shBrushSql.js"></script>
        <script language="javascript" src="js/shBrushXml.js"></script>
    </head>
    <body>

        <div id="main-content">
            <h1>WSO2 Mashup Server, Atom Publishing Protocol (APP) Host
                Object Guide
            </h1>

            <p>This document describes the set of host objects available for
                publishing using the Atom Publishing Protocol (APP).
            </p>

            <h2>1.0 Introduction</h2>

            <p>The APP implementation consists of three main host objects, namely
                AtomFeed, AtomEntry and APPClient.
            </p>

            <h3>1.1 AtomFeed</h3>

            <p>The "AtomFeed" host object serves as the top level element of
                an Atom Feed Document, acting as a container for meta data and data
                associated with the feed. Its element children consist of meta data
                elements followed by zero or more "AtomEntry" child elements.
            </p>

            <h3>1.2 AtomEntry</h3>

            <p>The "AtomEntry" host object represents an individual entry, acting as a
                container for meta data and data associated with the entry. This
                element can appear as a child of the "AtomFeed" element, or it can
                appear as the document (i.e., top-level) element of a stand-alone Atom
                Entry Document.
            </p>

            <h3>1.3 APPClient</h3>

            <p>The "APPClient" host object acts as a client to an APP server. It is
                capable of authenticating using the given credentials and performing
                HTTP operations GET, POST, PUT and DELETE.
            </p>


            <h2>2.0 Examples</h2>

            <pre name="code" class="js">
                // Creating an instance of APPClient
                var client = new APPClient();

                // Creating an instance of AtomFeed
                var feed = new AtomFeed();

                // Setting login credentials for the client
                client.credentials={username:"you@email.com",password:"xxx",service:"blogger",authtype:"google"};

                // Retrieving and online feed
                feed = client.getFeed("http://blog.mooshup.com/feeds/posts/default");

                // Getting an array of individual entries from the feed
                var entries = new Array();
                entries = feed.getEntries();

                // Writing the retrieved feed to a file
                feed.writeTo("my-file-name.xml");
            </pre>

            <h2>3.0 API Documentation</h2>
            <h3>3.1 AtomFeed Host Object API Documentation</h3>

            <table>
                <tbody>
                    <tr>
                        <td>Member</td>
                        <td>Description</td>
                    </tr>
                    <tr>
                        <td>
                            <b>void addEntry(newEntry)</b>
                        </td>
                        <td>Adds a new AtomEntry to the end of the collection of entries.
                            <br/>
                            <span style="font-style: italic;">atomfeed.addEntry(newEntry);</span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <b>AtomEntry[] getEntries()</b>
                        </td>
                        <td>Returns the complete set of entries contained in this feed.
                            <br/>
                            <span style="font-style: italic;">var atomentries = atomfeed.getEntries();</span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <b>AtomEntry getEntry(String id)</b>
                        </td>
                        <td>Returns the first entry in the feed with the given atom:id value.
                            <br/>
                            <span style="font-style: italic;">var atomentry = atomfeed.getEntry('id5432');</span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <b>void writeTo(fileName)</b>
                        </td>
                        <td>Serializes the AtomFeed to a given local file/
                            <br/>
                            <span style="font-style: italic;">atomfeed.writeTo("file-name.xml");</span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <b>property String author</b>
                        </td>
                        <td>The author of this feed.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>property String category</b>
                        </td>
                        <td>The category of this feed.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>property String contributor</b>
                        </td>
                        <td>The contributor of this feed.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>property String id</b>
                        </td>
                        <td>The id of this feed.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>property String rights</b>
                        </td>
                        <td>The rights associated with this feed.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>property String[] link</b>
                        </td>
                        <td>The location(s) of this feed.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>property String title</b>
                        </td>
                        <td>The title of this feed.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>property String updated</b>
                        </td>
                        <td>The date when this feed was last updated.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>readonly property XML XML</b>
                        </td>
                        <td>Returns the E4X XML contents of this AtomFeed object.</td>
                    </tr>
                </tbody>
            </table>

            <h3>3.2 Entry Host Object API Documentation</h3>

            <table>
                <tbody>
                    <tr>
                        <td>Member</td>
                        <td>Description</td>
                    </tr>
                    <tr>
                        <td>
                            <b>property String author</b>
                        </td>
                        <td>The author of this entry.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>property String category</b>
                        </td>
                        <td>The category of this entry.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>property String content</b>
                        </td>
                        <td>The content of this entry.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>property String contributor</b>
                        </td>
                        <td>The contributor of this entry.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>property String id</b>
                        </td>
                        <td>The id of this entry.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>property String[] link</b>
                        </td>
                        <td>The location(s) of this entry.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>property String published</b>
                        </td>
                        <td>The date this entry was published.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>property String rights</b>
                        </td>
                        <td>The rights associated with this entry.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>property String summary</b>
                        </td>
                        <td>The summary of this entry.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>property String title</b>
                        </td>
                        <td>The title of this entry.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>property String updated</b>
                        </td>
                        <td>The date this entry was updated.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>readonly property XML XML</b>
                        </td>
                        <td>Returns the E4X XML contents of this AtomEntry.</td>
                    </tr>
                </tbody>
            </table>

            <h3>3.3 APPClient Host Object API Documentation</h3>

            <table>
                <tbody>
                    <tr>
                        <td>Member</td>
                        <td>Description</td>
                    </tr>
                    <tr>
                        <td>
                            <b>property Object credentials</b>
                        </td>
                        <td>This property can be used to provide a JavaScript object with the username,password and
                            authentication service
                            credentials needed to communicate with APPServer. Currently this supports blogger
                            authentication only.
                            <br/>
                            <span style="font-style: italic;">client.credentials={username:"you@email.com",
                                password:"xxx", service:"blogger", authtype:"google"};
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <b>void deleteEntry(AtomEntry entry)</b>
                        </td>
                        <td>Deletes the AtomEntry designated by the AtomEntry object.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>void deleteEntry(String uri)</b>
                        </td>
                        <td>Deletes the AtomEntry designated by the uri.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>void get(AtomEntry entry)</b>
                        </td>
                        <td>Get an AtomEntry from the APPServer, given an AtomEntry object.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>void get(String uri)</b>
                        </td>
                        <td>Get an AtomEntry from the APPServer, given a URI to an Atom entry.
                            <br/>
                            <span style="font-style: italic;">var entry2 =
                                client.get("http://www.blogger.com/feeds/000/posts/full/000");
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <b>void getFeed(AtomFeed feed)</b>
                        </td>
                        <td>Get an AtomFeed from the APPServer, given an AtomFeed object.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>void getFeed(String uri)</b>
                        </td>
                        <td>Get an AtomFeed from the APPServer, given a URI to an Atom feed.
                            <br/>
                            <span style="font-style: italic;">var entry2 =
                                client.get("http://www.blogger.com/feeds/000/posts/full/000");
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <b>void post(String postURI, AtomEntry entry)</b>
                        </td>
                        <td>Posts an AtomEntry object to an APP server using the given post URI as described in the APP
                            specification.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <b>void post(String postURI, Object entryObject)</b>
                        </td>
                        <td>Posts
                            an entry to an APP server using the given post URI as described in the
                            APP specification, as an object with the following properties defined:
                            <br/>
                            <ul>
                                <li>string author|string authors (comma separated list)</li>
                                <li>string category|string categories(comma separated list)</li>
                                <li>XML content|string content</li>
                                <li>string contributor|string contributors(comma separated list)</li>
                                <li>string id</li>
                                <li>string link|string links(comma separated list)</li>
                                <li>string published : can put the value as'now' to specify the current time</li>
                                <li>XML rights|string rights</li>
                                <li>XML summary | string summary</li>
                                <li>XML title | string title</li>
                                <li>string updated : can put the value as'now' to specify the current time</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <b>void put(String editURI, AtomEntry entry)</b>
                        </td>
                        <td>Puts an AtomEntry object to an APP server using the given edit URI as described in the APP
                            specification.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <b>void put(String editURI, Object entryObject)</b>
                        </td>
                        <td>Posts
                            an entry to an APP server using the given edit URI as described in the
                            APP specification, as an object with the following properties defined:
                            <br/>
                            <ul>
                                <li>string author|string authors (comma separated list)</li>
                                <li>string category|string categories(comma separated list)</li>
                                <li>XML content|string content</li>
                                <li>string contributor|string contributors(comma separated list)</li>
                                <li>string id</li>
                                <li>string link|string links(comma separated list)</li>
                                <li>string published : can put the value as'now' to specify the current time</li>
                                <li>XML rights|string rights</li>
                                <li>XML summary | string summary</li>
                                <li>XML title | string title</li>
                                <li>string updated : can put the value as'now' to specify the current time</li>
                            </ul>
                        </td>
                    </tr>

                </tbody>
            </table>

            <h2>4.0 References</h2>

            <ul>

                <li>
                    <a href="apidocs/org/wso2/mashup/hostobjects/atom/AtomFeedHostObject.html">JavaDoc
                        for the AtomFeed host Object
                    </a>
                </li>

                <li>
                    <a href="apidocs/org/wso2/mashup/hostobjects/atom/AtomEntryHostObject.html">JavaDoc
                        for the AtomEntry host Object
                    </a>
                </li>

                <li>
                    <a href="apidocs/org/wso2/mashup/hostobjects/atom/APPClientHostObject.html">JavaDoc
                        for the APPClient host Object
                    </a>
                </li>

            </ul>

        </div>
    <script class="javascript">
        dp.SyntaxHighlighter.BloggerMode();
        dp.SyntaxHighlighter.HighlightAll('code');
    </script>
    </body>

</html>
