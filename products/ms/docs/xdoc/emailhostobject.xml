<!--
~ Copyright 2005-2008 WSO2, Inc. (http://wso2.com)
~
~ Licensed under the Apache License, Version 2.0 (the "License");
~ you may not use this file except in compliance with the License.
~ You may obtain a copy of the License at
~
~ http://www.apache.org/licenses/LICENSE-2.0
~
~ Unless required by applicable law or agreed to in writing, software
~ distributed under the License is distributed on an "AS IS" BASIS,
~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
~ See the License for the specific language governing permissions and
~ limitations under the License.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
        "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <link href="css/mashup-docs.css" rel="stylesheet" type="text/css" media="all"/>
        <link type="text/css" rel="stylesheet" href="css/SyntaxHighlighter.css" media="all"/>
        <script language="javascript" src="js/shCore.js"></script>
        <script language="javascript" src="js/shBrushJScript.js"></script>
        <script language="javascript" src="js/shBrushJava.js"></script>
        <script language="javascript" src="js/shBrushSql.js"></script>
        <script language="javascript" src="js/shBrushXml.js"></script>
    </head>
    <body>

        <div id="main-content">
            <h1>Email Host Object</h1>

            <h2>1.0 Introduction</h2>

            <p>The Email host object allows users to send out email from
                their
                mashups. It helps notify users of certain events and acts
                as a bridge between mashups and users.
            </p>

            <h3>1.1 Example</h3>

            <pre name="code" class="js">
                var email = new Email("host", "port", "username", "password");
                var file = new File("temp.txt");
                email.from = "keith@wso2.com";
                email.to = "keith@wso2.com"; // alternatively message.to can be a array of strings. Same goes for cc and bcc
                email.cc = "keith@wso2.com";
                email.bcc = "keith@wso2.com";
                email.subject = "WSO2 Mashup server 1.0 Released";
                email.addAttachement(file, "temp.txt"); // Optionally can add attachements, it has a variable number of arguments. each argument can be a File hostObject or a string representing a file.
                                                        // In this case we are sending two attachments (This demontrates sending attachments using either a File Host Object or a path to the file).
                email.text = "WSO2 Mashup server 1.0 was Released on 28th January 2008";
                email.send();
            </pre>

            <h2>2.0 Email Object</h2>

            <h3>2.1 Email Object Constructors</h3>

            <p>The Email Object has three different constructors. Choose one
                depending
                on your configuration and your needs.
            </p>

            <ol>

                <li>
                    <p>The constructor needs to be given configuration details as follows:</p>

                    <pre name="code" class="js">
                        var email = new Email("smtp.gmail.com", "25", "username@gmail.com", "password"); // host, port, username, password
                    </pre>

                </li>

                <li>
                    <p>The second is a slight variant of the first constructor. It does not
                        require a port to be specified:
                    </p>

                    <pre name="code" class="js">
                        var email = new Email("smtp.gmail.com", "username@gmail.com", "password"); // host, username, password
                    </pre>

                </li>

            </ol>

            <br/>

            <h3>2.2 API Documentation</h3>

            <br/>

            <table style="margin-left: 0.5in; border-collapse: collapse;" class="MsoTableGrid" border="1"
                   cellpadding="5" cellspacing="0">

                <tbody>

                    <tr>

                        <td>Member</td>

                        <td>Description</td>

                    </tr>

                    <tr>

                        <td><b>void from(string from</b>)*
                        </td>

                        <td>An optional property to set the "from" address of the
                            email to
                            be sent. If not set the user account used to authenticate against the
                            email gateway will be sent as the "from" address.
                            <br/>

                            <span style="font-style: italic;">email.from
                                = "keith@wso2.com";
                            </span>
                        </td>

                    </tr>

                    <tr>

                        <td>
                            <span style="font-weight: bold;">void
                                to(String to)
                            </span>
                        </td>

                        <td>This is a required property that denotes the "to"
                            address of the
                            email to be sent. (Optionally an array of strings denoting the "to"
                            addresses can be passed as below.)
                            <br/>

                            <span style="font-style: italic;">email.to
                                = "keith@wso2.com";
                            </span>
                        </td>

                    </tr>

                    <tr>

                        <td>
                            <span style="font-weight: bold;">void
                                to(Array to)
                            </span>
                        </td>

                        <td>This is a required property that denotes the "to"
                            addresses of the email to
                            be sent. (Optionally a string denoting a single "to" address can
                            be passed as above.)
                            <br/>

                            <span style="font-style: italic;">
                                var to = new Array();
                                <br/>

                                to[0] = "jonathan@wso2.com";
                                <br/>

                                to[1] = "keith@wso2.com";
                                <br/>

                                email.to = to;
                            </span>
                        </td>

                    </tr>

                    <tr>

                        <td>
                            <span style="font-weight: bold;">void
                                cc(String cc)*
                            </span>
                        </td>

                        <td>This is an optional property that denotes the "cc"
                            address of the email to
                            be sent. (Optionally an array of strings denoting the "cc" addresses
                            can
                            be passed as below.)
                            <br/>

                            <span style="font-style: italic;">email.cc
                                = "keith@wso2.com";
                            </span>
                        </td>

                    </tr>

                    <tr>

                        <td>
                            <span style="font-weight: bold;">void
                                cc(Array cc)*
                            </span>
                        </td>

                        <td>This is an optional property that denotes the "cc"
                            addresses of the email to
                            be sent. (Optionally a string denoting a single "cc" address can
                            be passed as above.)
                            <br/>

                            <span style="font-style: italic;">
                                var cc = new Array();
                                <br/>

                                cc[0] = "jonathan@wso2.com";
                                <br/>

                                cc[1] = "keith@wso2.com";
                                <br/>

                                email.cc= cc;
                            </span>
                        </td>

                    </tr>

                    <tr>

                        <td>
                            <span style="font-weight: bold;">void
                                bcc(String bcc)*
                            </span>
                        </td>

                        <td>This is an optional property that denotes the "bcc"
                            address of the email to
                            be sent. (Optionally an array of strings denoting the "bcc" addresses
                            can
                            be passed as below.)
                            <br/>

                            <span style="font-style: italic;">email.bcc
                                = "keith@wso2.com";
                            </span>
                        </td>

                    </tr>

                    <tr>

                        <td>
                            <span style="font-weight: bold;">void
                                bcc(Array bcc)*
                            </span>
                        </td>

                        <td>This is an optional property that denotes the "bcc"
                            addresses of the email to
                            be sent. (Optionally a string denoting a single "bcc" address can
                            be passed as above.)
                            <br/>

                            <span style="font-style: italic;">
                                var bcc = new Array();
                                <br/>

                                bcc[0] = "jonathan@wso2.com";
                                <br/>

                                bcc[1] = "keith@wso2.com";
                                <br/>

                                email.bcc = bcc;
                            </span>
                        </td>

                    </tr>

                    <tr>

                        <td>
                            <span style="font-weight: bold;">void
                                subject(String
                            </span>
                            <span style="font-weight: bold;">subject</span>
                            <span style="font-weight: bold;">)</span>
                        </td>

                        <td>An optional property to set the subject of the email to
                            be sent.
                            <br/>

                            <span style="font-style: italic;">email.subject
                                = "WSO2 Mashup server 1.0 Released";
                            </span>
                        </td>

                    </tr>

                    <tr>

                        <td>
                            <span style="font-weight: bold;">void
                                text(String text)
                            </span>
                        </td>

                        <td>An optional property to set the body text of the email
                            to be sent.
                            <br/>

                            <span style="font-style: italic;">email.text
                                = "WSO2 Mashup server 1.0 was Released on 28th January 2008";
                            </span>
                        </td>

                    </tr>

                    <tr>
                        <td>
                            <span style="font-weight: bold;">void html(String html | XML html)</span>
                        </td>
                        <td>An optional property to set the body of the email
                            to be sent. This function can be used to send HTML mail.
                            <br/>
                            <span style="font-style: italic;">
                                email.html = "&lt;h1&gt;WSO2 Mashup server 1.0 was
                                Released on 28th January 2008&lt;/h1&gt;"; // Setthing the HTML
                                content as a String
                            </span>
                            <br/>


                            OR
                            <br/>
                            <span style="font-style: italic;">email.html
                                = &lt;h1&gt;WSO2 Mashup server 1.0 was Released on 28th January
                                2008&lt;/h1&gt;; // Setting the HTML content as an XML
                                object
                            </span>
                        </td>
                    </tr>
                    <tr>

                        <td>
                            <span style="font-weight: bold;">void
                                addAttachment([String filePath]* [FileHostObject file]*)
                            </span>
                        </td>

                        <td>An optional property to add attchments to the email
                            been sent. This function has a variable number of arguments,
                            each argument can
                            be a File hostObject or a string representing a file.
                            <br/>

                            var file = new File("temp.txt"); // A file exists
                            at temp.txt
                            <br/>

                            email.addAttachement(file, "temp.txt");
                        </td>

                    </tr>

                    <tr>

                        <td>
                            <span style="font-weight: bold;">void
                                send()
                            </span>
                        </td>

                        <td>Used to send the email.</td>

                    </tr>

                </tbody>
            </table>

            <br/>

            <h2>3.0 References</h2>

            <ul>

                <li>
                    <a href="apidocs/org/wso2/mashup/hostobjects/email/Email.html">JavaDoc
                        for the Email host Object
                    </a>
                </li>

            </ul>

        </div>
        <script language="javascript">
            dp.SyntaxHighlighter.BloggerMode();
            dp.SyntaxHighlighter.HighlightAll('code');
        </script>
    </body>
</html>
