<?xml version="1.0" encoding="ISO-8859-1"?>

<!--
  ~  Copyright (c) 2005-2008, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
  ~
  ~  WSO2 Inc. licenses this file to you under the Apache License,
  ~  Version 2.0 (the "License"); you may not use this file except
  ~  in compliance with the License.
  ~  You may obtain a copy of the License at
  ~
  ~    http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~  Unless required by applicable law or agreed to in writing,
  ~  software distributed under the License is distributed on an
  ~  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  ~  KIND, either express or implied.  See the License for the
  ~  specific language governing permissions and limitations
  ~  under the License.
  ~
  -->

<!DOCTYPE html
   PUBLIC "-//W3C//DTD XHTML 1.1//EN"
   "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd" >

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title> WSO2 Governance Registry - Developer Guide </title>
<link href="../css/greg-docs.css" rel="stylesheet"/>
<link href="../styles/dist-docs.css" rel="stylesheet" type="text/css" media="all"/>
</head>
<body>
[ <a href="../docs_index.html"> Documentation Index </a> ]
<h1> WSO2 Governance Registry - Developer User Guide </h1>
<h2 id="custom-ui">Creating a Custom User Interface in WSO2 Governance Registry</h2>


<p>Custom UIs are a user preferred way to add their own UI implementations into the registry. It is associated

with Media types. By adding a few entries to the component xml, custom UIs can be plugged in to WSO2 products.</p>



<h2 id="custom-ui-code">Writing a Sample Custom UI</h2>

<p>We will be using the custom-ui sample located at $GREG_HOME/samples/custom-ui/ to explain the process of writing a custom UI.</p>


<h2 id="custom-ui-config">Writing the component.xml file</h2>

<p>Component.xml contains the <strong>CustomUI configuration</strong>. The user has to define the</p>

<ul>
<li>uiType</li>

<li>mediaType</li>

<li>uiPath</li>
</ul>

<p>Let us take a look at the component.xml located at src/main/resources/META-INF directory.</p>

<br/><dir>&lt;component xmlns="http://products.wso2.org/carbon"&gt;<br/>
<dir>&lt;customUI&gt;<br/>
       
<dir>&lt;uiType&gt;view&lt;/uiType&gt;<br/>
       
&lt;mediaType&gt;epr&lt;/mediaType&gt;<br/>
       
&lt;uiPath&gt;../registry/custom/endpoint/epr_main_ajaxprocessor.jsp&lt;/uiPath&gt;<br/></dir>
    &lt;/customUI&gt;<br/></dir>
<dir>&lt;customUI&gt;<br/>
       
<dir>&lt;uiType&gt;add&lt;/uiType&gt;<br/>
       
&lt;mediaType&gt;epr&lt;/mediaType&gt;<br/>
       
&lt;uiPath&gt;../registry/custom/endpoint/epr_add_ajaxprocessor.jsp&lt;/uiPath&gt;<br/></dir>
    &lt;/customUI&gt;<br/></dir>
<dir>&lt;customUI&gt;<br/>
       
<dir>&lt;uiType&gt;view&lt;/uiType&gt;<br/>
       
&lt;mediaType&gt;topic&lt;/mediaType&gt;<br/>
       
&lt;uiPath&gt;../registry/custom/endpoint/topic_ajaxprocessor.jsp&lt;/uiPath&gt;<br/></dir>
    &lt;/customUI&gt;<br/></dir>
&lt;/component&gt;<br/></dir>
<br/>

<p>There are three types of UIs that can be used, i.e. add, edit and view. For each UI type, we can specify the corresponding media type it will be associated to and the respective jsp that will be called. In the given example component.xml, when a "epr" media type is added, the respective epr_add_ajaxprocessor.jsp is called. Please take a look at the respective jsps available in the source of the sample to have a better understanding of the implementation details. Basically, this JSP, will be what is displayed when the custom UI event occurs.</p>




<h2 id="custom-ui-running">Running the Custom UI with Registry</h2>



<p>1. Drop your jars into "GREG_HOME/webapps/ROOT/WEB-INF/plugins".</p>

<p>2. Edit the bundle info detail that is in the "bundles.info" file which is located at "GREG_HOME/webapps/ROOT/WEB-INF/eclipse/configuration/org.eclipse.equinox.simpleconfigurator".</p>

<p>for eg.</p>

<p><i>-org.wso2.carbon.registry.samples.custom.topics,@carbon.version@,plugins/org.wso2.carbon.registry.samples.custom.topics-@carbon.version@.jar,4,true<br/>
        -org.wso2.carbon.registry.samples.custom.topics.ui,@carbon.version@,plugins/org.wso2.carbon.registry.samples.custom.topics.ui-@carbon.version@.jar,4,true</i></p>

<p>3. Start the server.</p>

<p>4. Log in the admin console and go to the Resources menu.</p>

<p>5. Click "Add Resource" link to add a new resource and choose "Create custom content" from Method combo box.</p>

<p>6. A text box named "Media type" will be displayed, from which select " other" option from drop down button for media type.</p>

<p>7. Enter your media type.</p>

<p>8. Click "Create Content",when your custom ui will display.</p>
<p><img src="../images/custom_ui.png" width="492px" /></p>
<p>Figure 1: Sample Custom User Interface </p>

<p><strong>Note</strong>:- A detailed sample for creating Custom UI is available with distribution under samples directory.</p> 
</body>
</html>
