<?xml version="1.0" encoding="ISO-8859-1"?>

<!--
  ~  Copyright (c) 2005-2008, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
  ~
  ~  WSO2 Inc. licenses this file to you under the Apache License,
  ~  Version 2.0 (the "License"); you may not use this file except
  ~  in compliance with the License.
  ~  You may obtain a copy of the License at
  ~
  ~    http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~  Unless required by applicable law or agreed to in writing,
  ~  software distributed under the License is distributed on an
  ~  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  ~  KIND, either express or implied.  See the License for the
  ~  specific language governing permissions and limitations
  ~  under the License.
  ~
  -->

<!DOCTYPE html
   PUBLIC "-//W3C//DTD XHTML 1.1//EN"
   "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd" >

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title> WSO2 Governance Registry - User Guide </title>
<link href="../css/greg-docs.css" rel="stylesheet"/>
<link href="../styles/dist-docs.css" rel="stylesheet" type="text/css" media="all"/>
</head>
<body>
[ <a href="../docs_index.html"> Documentation Index </a> ]
<h1> WSO2 Governance Registry - User Guide </h1>

<h2 id="notifications">WS-Eventing and Notifications</h2>
<p>
The Notifications feature can be used to generate notifications for events that occur as
a result of performing operations. In order to receive notifications, users will have to
create a subscription to a particular event along with a specified notification method (which can be
an e-mail alert or a SOAP message). Each subscription is associated with a resource or collection on
the registry. The Manage Notifications page can be used to create, edit, or delete subscriptions to
notifications on various operations performed on resources and collections stored in the registry.
</p>

<p>The Governance Registry supports a predefined set of events to which notifications can be
generated, and also allows a developer to add several others through the OSGi service. The event
types supported by default are as follows:</p>

<ul>
  <li>Check LC Item   - Represents an event that fires when a item is checked in a lifecycle
  check-list.</li>
  <li>Uncheck LC Item - Represents an event that fires when a item is unchecked in a lifecycle
  check-list.</li>
  <li>Create Child    - Represents an event of creating a resource (or collection) within an
  existing collection.</li>
  <li>Delete Child    - Represents an event of deleting a resource (or collection) within an
  existing collection.</li>
  <li>Delete          - Represents an event of deleting a resource (or collection).</li>
  <li>Create LC       - Represents an event of creating a lifecycle.</li>
  <li>Delete LC       - Represents an event of deleting a lifecycle.</li>
  <li>Change LC State - Represents an event of changing a lifecycle state.</li>
  <li>Update          - Represents an event of updating a resource or collection.</li>
</ul>

<p>Please note that some of these events may not be available for certain types resources and
collections. We support a variety of notification methods as well.</p>

<ul>
  <li>E-mail          - Any valid e-mail address.</li>
  <li>HTML/Plain-Text - An endpoint accepting HTML or text content.</li>
  <li>SOAP            - An endpoint accepting notifications as a SOAP message.</li>
  <li>User Profile    - A valid user's profile. Notifications will be sent to the e-mail address
  specified on the user's default profile.</li>
</ul>

<p>There are two main ways made available to subscribe to notifications generated by the registry.
You can either use the resource browser's Subscriptions portlet, or you can go to the notifications
configuration page.</p>

<p>The WSO2 Governance Registry makes use of WS-Eventing to generate notifications and publish in
various formats.</p>

<p><img src="../images/manage_notifications.png" width="743px"/></p>


<p>Figure 1: Manage Notifications</p>


<p>To send e-mail notifications, you need to configure the mail transport in axis2. This can be
done by adding the following configuration to the axis2.xml file found in GREG_HOME/repository/conf.
</p>

<pre>    &lt;transportSender name="mailto" class="org.apache.axis2.transport.mail.MailTransportSender"&gt;
        &lt;parameter name="mail.smtp.host"&gt;smtp.gmail.com&lt;/parameter&gt;
        &lt;parameter name="mail.smtp.port"&gt;587&lt;/parameter&gt;
        &lt;parameter name="mail.smtp.starttls.enable"&gt;true&lt;/parameter&gt;
        &lt;parameter name="mail.smtp.auth"&gt;true&lt;/parameter&gt;
        &lt;parameter name="mail.smtp.user"&gt;USERNAME&lt;/parameter&gt;
        &lt;parameter name="mail.smtp.password"&gt;PASSWORD&lt;/parameter&gt;
        &lt;parameter name="mail.smtp.from"&gt;USERNAME@gmail.com&lt;/parameter&gt;
    &lt;/transportSender&gt;</pre>

</body>

</html>
