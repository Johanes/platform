<?xml version="1.0" encoding="ISO-8859-1"?>

<!--
  ~  Copyright (c) 2005-2008, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
  ~
  ~  WSO2 Inc. licenses this file to you under the Apache License,
  ~  Version 2.0 (the "License"); you may not use this file except
  ~  in compliance with the License.
  ~  You may obtain a copy of the License at
  ~
  ~    http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~  Unless required by applicable law or agreed to in writing,
  ~  software distributed under the License is distributed on an
  ~  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  ~  KIND, either express or implied.  See the License for the
  ~  specific language governing permissions and limitations
  ~  under the License.
  ~
  -->

<!DOCTYPE html
   PUBLIC "-//W3C//DTD XHTML 1.1//EN"
   "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd" >

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-1"/>
    <title>
      WSO2 Governance Registry - Users and Roles
    </title>
    <link href="css/greg-docs.css" rel="stylesheet"/>
    <link href="styles/dist-docs.css" rel="stylesheet" type="text/css" media="all"/>
  </head>
  <body xml:lang="en">
<h1>WSO2 Governance Registry - Users and Roles</h1>
<h2>Table of Contents</h2>

<ul>

<li>
<a href="#overview">Overview</a>
</li>
<li>
<a href="#realm">The Registry Realm</a>
</li>
<li>
<a href="#authorizations">Authorizations</a>
</li>
<li>
<a href="#special_users_and_roles">Special Users and Roles</a>
</li>
</ul>

      
<h2 id="overview">Overview</h2>
<p>
Managing users and roles is one key area that is critical when it comes to the Governance Registry.
The registry can be used to store personal as well as public data and also as a facilitator of
sharing resources. Management of users, roles and relevant permissions are handled by means of a
number of components.
</p>


<h2 id="realm">The Registry Realm</h2>
<p>
The Registry Realm is an extension of the User Realm to better suit the environment of the registry.
The User Realm is responsible of managing, authenticating and also authorizing users and roles with
an inter-mixture of capabilities with respect to various server operations. In addition to storing
the permission model for running the WSO2 Carbon server, the User Realm can be extended to manage
any model of similar permissions. The Registry Realm and related implementations have been designed
to manage permissions related to resources and collections in the registry.
</p>


<h2 id="authorizations">Authorizations</h2>
<p>
A user or role can be authorized to perform one or more operations on a particular resource or
collection.
</p>

<pre>
    AuthorizationManager authorizationManager = registryRealm.getAuthorizationManager();
    authorizationManager.authorizeUser(userName, path, action);
    authorizationManager.authorizeRole(roleName, path, action);
</pre>

<p>
Similarly, you can deny a user or role from performing one or more operations on a particular
resource or collection. Authorizing and denying are mutually exclusive operations.
</p>

<pre>
    AuthorizationManager authorizationManager = registryRealm.getAuthorizationManager();
    authorizationManager.denyUser(userName, path, action);
    authorizationManager.denyRole(roleName, path, action);
</pre>

<p>
The path can be the path of any valid resource or collection on the registry, whilst the action can
be one of <strong>get</strong>, <strong>put</strong>, <strong>delete</strong> and
<strong>authorize</strong>. Each of these have corresponding constants (ex:- ActionConstants.GET).
</p>

<p>You can also copy authorizations from one path to another.</p>

<pre>
    AuthorizationUtils.copyAuthorizations(sourcePath, targetPath);
</pre>


<h2 id="special_users_and_roles">Special Users and Roles</h2>

<p>
The registry treats each and every user and role in a similar manner at runtime, except for a few
special users and roles. The <strong>system user</strong> is responsible for the operations done on
the registry by the server itself. The <strong>admin user</strong> is a special user having all
privileges for performing registry operations. The <strong>everyone role</strong> represents any
valid user. The <strong>anonymous role</strong> represents any unauthenticated user.
</p>
</body>
</html>
