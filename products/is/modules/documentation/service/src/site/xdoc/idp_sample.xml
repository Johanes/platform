<!--
  ~  Licensed to the Apache Software Foundation (ASF) under one
  ~  or more contributor license agreements.  See the NOTICE file
  ~  distributed with this work for additional information
  ~  regarding copyright ownership.  The ASF licenses this file
  ~  to you under the Apache License, Version 2.0 (the
  ~  "License"); you may not use this file except in compliance
  ~  with the License.  You may obtain a copy of the License at
  ~
  ~   http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~  Unless required by applicable law or agreed to in writing,
  ~  software distributed under the License is distributed on an
  ~   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  ~  KIND, either express or implied.  See the License for the
  ~  specific language governing permissions and limitations
  ~  under the License.
  -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
       "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-1"/>
    <title>Welcome to WSO2 Identity Server v2.0.0!</title>
    <link href="css/is-docs.css" rel="stylesheet"/>
   </head>
<body>

<h2>Sample Identity Provider</h2>

<h3>Set up</h3>

<p><strong>IMPORTANT:</strong> Set sampleRealm as the default user store 
using "Set as default" option in the "User Stores" configuration.</p>

<p>
Now since we changed the user store the enabled claims and claim mappings will 
have to be set.
</p>

<p>Enable following claims : </p>
<ul>
<li>http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname</li>
<li>http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname</li>
<li>http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress</li>
</ul>
<p>http://schemas.xmlsoap.org/ws/2005/05/identity/claims/privatepersonalidentifier
claim is enabled by default.</p>

<p>Use the "Claim Mappings" configuration to map claims to user properties as 
listed below : </p>

<table>
<tr><th>Claim URI</th><th>User property</th></tr>
<tr><td>http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname</td><td>FIRSTNAME</td></tr>
<tr><td>http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname</td><td>LASTNAME</td></tr>
<tr><td>http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress</td><td>EMAIL</td></tr>
</table>
<p>WSO2 Identity Solution has a in-build sample Identity Provider (IdP), which has the full functionality</p>

<P>Now, the identity provider is configured to,</P>
<ul>
  <li>Trust users with following username and passwords</li>
	<table>
		<tr><th>User Name</th><th>Password</th></tr>
		<tr><td>alice</td><td>alice</td></tr>
		<tr><td>chris</td><td>chris</td></tr>
		<tr><td>bob</td><td>bob</td></tr>
		<tr><td>john</td><td>doe</td></tr>	
	</table>
  <li>Issue tokens with the following claims</li>
	<ul>
		<li>Given name (first name)</li>
		<li>Last name</li>
		<li>Email address</li>			
	</ul>
  <li>Trusted relying part is - "Servlet Filter Sample"</li>
  <li>Use the certificate issued with "CN=localhost"</li>
</ul>

<h2>What can you do using Sample IdP?</h2>

Sample IdP can demonstrate full functionality of a real IdP
	
<h3>Download a Managed Information Card from Sample IdP</h3>
<p>When downloading cards from the Sample IdP you must login using the browser in your local machine because the certificate of the Sample IdP is issued with "CN=localhost".You can download cards by logging using a Personal card or username/password. Start the Identity Solution application and point your browser to "https://localhost:12433/"</p>

<img alt="Downloading a Managed Card" src="./images/Idpsample.jpg" />


<ul>
	<li>Downloading cards by logging in using User Name, Password</li><br/>
<p>Login using any of the above mentioned username, password pairs - for example alice, alice. Now click on "Download" button to obtain the Managed Information card. Then save the card into your identity selector by clicking save.</p>

	<li>Downloading cards by logging in using a "Personal Card"</li><br/>
<p>Create a personal card. Login using any of the above mentioned username, password pairs. 
Register the card by clicking "Register Self Issued Card". 
This will register you personal card and the ppid issued by the card will appear
in the main page. Downlaod your Managed Information Card clicking "Download Information Card"</p>	
		
</ul> 
 	
<h3>Getting Tokens issued by Sample IdP</h3>

<p>Sample IdP trust "Servlet Filter Sample", and "Servlet Filter Sample" accepts token issued by Sample IdP. Therefore you can log into Servlet Filter sample using the InfoCards issued by the Sampe IdP. When you are logging in the Smaple IdP will issue tokens to the <a href="rp_sample.html">Java Relying Party Sample</a></p>

<p>Code for this sample is available in the src-distribution under "modules/samples/identity-provider"</p>

</body>
</html>
